<!DOCTYPE html>
<html>
<head>
	<meta charset="utf8"/>
	<title>Little_map v0.2</title>
	<script src="//code.jquery.com/jquery-1.11.0.min.js"></script>

	<style>
		#cont {
			width: 842px;
			float: left;
			margin: 20px;
		}
		
		#right_column {
			width: 30%;
			float: left;
			margin: 20px;
		}
	</style>
	<link type ="text/css" rel="stylesheet" href="map/map_style.css"/>
</head>
<body>
	<h1>Little_map v0.2</h1>
	<div id="cont">

		<div id="ipsum3434930" data-category="ipsum" data-view="select" data-size="embedded" class="map"></div>
	</div>
	<div id="right_column"></div>
	<script src="map/map_loader.js"></script>
	<script>
//	var divForMap = jQuery('.map'); //DEBUG mode
//	littleMap.init(divForMap.attr("id")); //DEBUG mode
/*(function() {

	/*
	 * This is crushing firebug while debugging
	 * $getScript() is using eval() on fetched script and this is slow as hell ;_;
	 * without debugging tools this works fine
	 */

/*	var divForMap = jQuery('.map');
	if(divForMap.length > 0) {
		
		var OLayers = $.getScript('map/OpenLayers.js');
		var script = $.getScript('map/map_script.js');

		var style = document.createElement("link");
		style.type = "text/css";
		style.rel = "stylesheet";
		style.href = 'map/map_style.css';

		if (style.readyState){  //IE
			style.onreadystatechange = function(){
				if (style.readyState == "loaded" || style.readyState == "complete") {
					style.onreadystatechange = null;
					$.when(OLayers, script).done(function(OLayers, script) {
						littleMap.init(divForMap.attr("id"));
					});
				}
			};
		} else {  //Others
			style.onload = function(){
				$.when(OLayers, script).done(function(OLayers, script) {
					littleMap.init(divForMap.attr("id"));
				});
			}
		}

		document.getElementsByTagName("head")[0].appendChild(style);
	}
})();*/
</script>
</body>



</html>
